(function(t){function e(e){for(var r,n,l=e[0],i=e[1],c=e[2],d=0,m=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},o=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("8a23"),s=a.n(r);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{attrs:{id:"app"}},[a("router-view")],1)])},o=[],n={name:"App",components:{}},l=n,i=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),d=a("7496"),m=Object(i["a"])(l,s,o,!1,null,null,null),v=m.exports;u()(m,{VApp:d["a"]});a("caad");var p=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("Header"),a("Table")],1)},h=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"header"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-tab",[t._v("RCS_SYTEM")]),a("v-tab",{attrs:{to:"/"}},[t._v("RUNS")]),a("v-tab",{attrs:{to:"/monitor"}},[t._v("MONITOR")]),a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey"},on:{click:t.logout}},[t._v(" LOG OUT ")])],1)],1)],1)},g=[],x=a("bc3a"),_=a.n(x),w={name:"Header",methods:{logout:function(){var t=this;_.a.post("http://localhost:3000/logout").then((function(){localStorage.removeItem("user"),t.$router.push("/login")})).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))}))}}},y=w,V=a("8336"),T=a("b0af"),I=a("2fa4"),k=a("71a3"),S=a("71d9"),C=Object(i["a"])(y,b,g,!1,null,null,null),L=C.exports;u()(C,{VBtn:V["a"],VCard:T["a"],VSpacer:I["a"],VTab:k["a"],VToolbar:S["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabel"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.runs,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Runs")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},r),[t._v("New Item")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Add")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tipe"},model:{value:t.editedItem.tipe,callback:function(e){t.$set(t.editedItem,"tipe",e)},expression:"editedItem.tipe"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Rounds",type:"number"},model:{value:t.editedItem.rounds,callback:function(e){t.$set(t.editedItem,"rounds",e)},expression:"editedItem.rounds"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Time",type:"number"},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.color",fn:function(e){var r=e.item;return[a("Slider",{ref:r.id,attrs:{value:t.defaultColor}})]}},{key:"item.edit",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.editItem(r)}}},[t._v("EDIT")])]}},{key:"item.start",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.start(r)}}},[t._v("START")])]}},{key:"item.delete",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteItem(r)}}},[t._v("DELETE")])]}}])})],1)},A=[],O=(a("c975"),a("a434"),a("9147")),$={name:"Table",components:{Slider:O["a"]},data:function(){return{dialog:!1,headers:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Tipe",value:"tipe"},{text:"Rounds",value:"rounds"},{text:"Time",value:"time"},{text:"color",value:"color",sortable:!1},{text:"edit",value:"edit",sortable:!1},{text:"start",value:"start",sortable:!1},{text:"delete",value:"delete",sortable:!1}],editedIndex:-1,editedItem:{name:null,tipe:null,rounds:null,time:null},defaultItem:{name:null,tipe:null,rounds:null,time:null},defaultColor:{r:255,g:255,b:255},runs:[]}},created:function(){this.getAll()},methods:{getAll:function(){var t=this;_.a.post("http://localhost:3000/runs/getAllRuns").then((function(e){t.runs=e.data.runs})).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))}))},start:function(t){var e=this,a=this.$refs[t.id].val.rgba;a={r:a.r,g:a.g,b:a.b},_.a.post("http://localhost:3000/runs/startRun",{id:t.id,rgb:a}).catch((function(t){401===t.response.status&&(localStorage.removeItem("user"),e.$router.push("/login"))}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;this.editedIndex>-1?_.a.post("http://localhost:3000/runs/editRun",{id:this.runs[this.editedIndex].id,run:this.editedItem}).then((function(){t.getAll()})).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))})):_.a.post("http://localhost:3000/runs/addRun",{run:this.editedItem}).then((function(){t.getAll()})).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))})),this.close()},deleteItem:function(t){var e=this;_.a.post("http://localhost:3000/runs/deleteRun",{id:t.id}).then((function(){e.runs.splice(e.runs.indexOf(t),1)})).catch((function(t){401===t.response.status&&(localStorage.removeItem("user"),e.$router.push("/login"))}))},editItem:function(t){this.editedIndex=this.runs.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0}}},j=$,E=a("99d9"),F=a("62ad"),D=a("a523"),M=a("8fea"),P=a("169a"),N=a("ce7e"),B=a("0fd9"),H=a("8654"),Y=a("2a7f"),J=Object(i["a"])(j,R,A,!1,null,null,null),U=J.exports;u()(J,{VBtn:V["a"],VCard:T["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:F["a"],VContainer:D["a"],VDataTable:M["a"],VDialog:P["a"],VDivider:N["a"],VRow:B["a"],VSpacer:I["a"],VTextField:H["a"],VToolbar:S["a"],VToolbarTitle:Y["a"]});var G={name:"Home",components:{Header:L,Table:U}},q=G,z=Object(i["a"])(q,f,h,!1,null,null,null),K=z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"monitor"}},[a("Header"),a("MonitorTable")],1)},W=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"grey lighten-5"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{order:"12"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("RuningRuns"),a("Lamps")],1)],1)],1)],1)},Z=[],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Lamps"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.Lamps,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Lamps")]),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""}},[t._v("Turn off all Lamps")])],1)]},proxy:!0},{key:"item.color",fn:function(e){var r=e.item;return[a("Slider",{ref:r.name,attrs:{value:t.defaultColor}})]}},{key:"item.flash",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{disabled:t.isDisabled(r),color:"success"},on:{click:function(e){return t.flashItem(r)}}},[t._v("FLASH")])]}},{key:"item.disconnect",fn:function(e){var r=e.item;return[t.conected(r)?a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.switchItemStatus(r)}}},[t._v("DISABLED")]):a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.switchItemStatus(r)}}},[t._v("ENABLED")])]}},{key:"item.turnoff",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{disabled:t.isDisabled(r),color:"primary"},on:{click:function(e){return t.TurnoffLamp(r)}}},[t._v("Turn off")])]}}])})],1)},et=[],at=(a("b0c0"),{name:"Lamps",components:{Slider:O["a"]},data:function(){return{disabled:!1,headers:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Status",value:"status"},{text:"Connected",value:"available"},{text:"color",value:"color",sortable:!1},{text:"Flash",value:"flash",sortable:!1},{text:"Use",value:"disconnect",sortable:!1},{text:"Turnoff",value:"turnoff",sortable:!1}],Lamps:[],defaultColor:{r:255,g:255,b:255}}},created:function(){this.setupStream(),this.initLamps()},methods:{TurnoffAllLamps:function(){var t=this;_.a.post("http://localhost:3000/runs/TurnoffAllLamps").then(this.Lamps=[]).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))}))},TurnoffLamp:function(t){var e=this;_.a.post("http://localhost:3000/runs/TurnoffLamp",{name:t.name}).then((function(t){e.response=t.data.Lamps})).catch((function(t){401===t.response.status&&(localStorage.removeItem("user"),e.$router.push("/login"))}))},isDisabled:function(t){return!(!this.disabled&&t.available)},conected:function(t){return!("disabled"==t.status)},switchItemStatus:function(t){var e=this;_.a.post("http://localhost:3000/runs/switchLampStatus",{name:t.name}).then((function(t){e.Lamps=t.data.Lamps})).catch((function(t){401===t.response.status&&(localStorage.removeItem("user"),e.$router.push("/login"))}))},flashItem:function(t){var e=this,a=this.$refs[t.name].val.rgba;a={r:a.r,g:a.g,b:a.b},this.disabled=!0,_.a.post("http://localhost:3000/runs/flashLamp",{name:t.name,rgb:a}).then((function(){e.disabled=!1})).catch((function(t){401===t.response.status&&(localStorage.removeItem("user"),e.$router.push("/login"))}))},initLamps:function(){var t=this;_.a.post("http://localhost:3000/runs/getAllLamps").then((function(e){t.Lamps=e.data.Lamps})).catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))}))},setupStream:function(){var t=this,e=new EventSource("http://localhost:3000/runs/Monitor",{withCredentials:!0});e.addEventListener("error",(function(){_.a.post("http://localhost:3000/islogedIn").catch((function(e){401===e.response.status&&(localStorage.removeItem("user"),t.$router.push("/login"))}))})),e.addEventListener("event",(function(e){var a=JSON.parse(e.data);a.Lamps&&(t.Lamps=a.Lamps)}))}}}),rt=at,st=Object(i["a"])(rt,tt,et,!1,null,null,null),ot=st.exports;u()(st,{VBtn:V["a"],VDataTable:M["a"],VSpacer:I["a"],VToolbar:S["a"],VToolbarTitle:Y["a"]});var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RuningRuns"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.RuningRuns,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("RuningRuns")]),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"error",dark:""},on:{click:t.stopAll}},[t._v("STOP ALL")])],1)]},proxy:!0},{key:"item.color",fn:function(e){var r=e.item;return[a("Slider",{ref:r.id,attrs:{value:t.defaultColor}})]}},{key:"item.stop",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.stop(r)}}},[t._v("STOP")])]}}])})],1)},lt=[],it={name:"RuningRuns",data:function(){return{headers:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Tipe",value:"tipe"},{text:"Rounds",value:"rounds"},{text:"Time",value:"time"},{text:"stop",value:"stop",sortable:!1}],RuningRuns:[]}},methods:{stopAll:function(){console.log("stopAll")},stop:function(t){console.log(t)}}},ct=it,ut=Object(i["a"])(ct,nt,lt,!1,null,null,null),dt=ut.exports;u()(ut,{VBtn:V["a"],VDataTable:M["a"],VSpacer:I["a"],VToolbar:S["a"],VToolbarTitle:Y["a"]});var mt={name:"MonitorTable",components:{Lamps:ot,RuningRuns:dt}},vt=mt,pt=Object(i["a"])(vt,X,Z,!1,null,null,null),ft=pt.exports;u()(pt,{VCard:T["a"],VCol:F["a"],VContainer:D["a"],VRow:B["a"]});var ht={name:"Monitor",components:{Header:L,MonitorTable:ft}},bt=ht,gt=Object(i["a"])(bt,Q,W,!1,null,null,null),xt=gt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"registrate"}},[a("div",{staticClass:"slideImage"},[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")])],1),a("form",[a("v-card-text",[t.success_messages?a("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.success_messages))]):t._e(),t.error_messages?a("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.error_messages))]):t._e(),a("v-text-field",{attrs:{id:"email",label:"email",name:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"name",label:"name",name:"name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{id:"passwordAgain",label:"password again",name:"passwordAgain",type:"password"},model:{value:t.passwordAgain,callback:function(e){t.passwordAgain=e},expression:"passwordAgain"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{id:"directives",label:"Aception of directives"},model:{value:t.directives,callback:function(e){t.directives=e},expression:"directives"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.registrate}},[t._v("registrate")]),a("v-btn",{attrs:{large:"",color:"primary",to:"login"}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)])},wt=[],yt={name:"Registrate",data:function(){return{email:"",name:"",password:"",passwordAgain:"",directives:!1,error_messages:null,success_messages:null}},methods:{checkForm:function(){return this.email&&this.password&&this.name?this.password!=this.passwordAgain?(this.error_messages="Passwords not match",!1):this.directives?(this.success_messages="",this.error_messages="",!0):(this.error_messages="You have to accept directives",!1):(this.error_messages="You have to fill all textfield",!1)},clearForm:function(){this.email="",this.name="",this.password="",this.passwordAgain="",this.directives=!1},registrate:function(){var t=this;this.checkForm()&&_.a.post("http://localhost:3000/registrate",{email:this.email,name:this.name,password:this.password}).then((function(e){e.data.message&&(t.success_messages=e.data.message,t.clearForm())})).catch((function(e){t.error_messages=e.response.data.message,t.clearForm()}))}}},Vt=yt,Tt=a("0798"),It=a("ac7c"),kt=Object(i["a"])(Vt,_t,wt,!1,null,null,null),St=kt.exports;u()(kt,{VAlert:Tt["a"],VBtn:V["a"],VCard:T["a"],VCardActions:E["a"],VCardText:E["b"],VCheckbox:It["a"],VCol:F["a"],VContainer:D["a"],VRow:B["a"],VSpacer:I["a"],VTextField:H["a"],VToolbar:S["a"],VToolbarTitle:Y["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"slideImage"},[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")])],1),a("v-form",[a("v-card-text",[t.error_messages?a("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.error_messages))]):t._e(),a("v-text-field",{attrs:{id:"email",label:"email",name:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{large:"",color:"primary",to:"registrate"}},[t._v("Registrate")]),a("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)])},Lt=[],Rt={name:"Login",data:function(){return{email:"",password:"",error_messages:null}},methods:{clearForm:function(){this.email="",this.password=""},checkForm:function(){return!(!this.email||!this.password)||(this.error_messages="You have to fill all textfield",!1)},login:function(){var t=this;this.checkForm()&&_.a.post("http://localhost:3000/login",{email:this.email,password:this.password}).then((function(e){localStorage.setItem("user",e.data.auth),t.$router.push("/")})).catch((function(e){t.error_messages=e.response.data.message,t.clearForm()}))}}},At=Rt,Ot=a("4bd4"),$t=Object(i["a"])(At,Ct,Lt,!1,null,null,null),jt=$t.exports;u()($t,{VAlert:Tt["a"],VBtn:V["a"],VCard:T["a"],VCardActions:E["a"],VCardText:E["b"],VCol:F["a"],VContainer:D["a"],VForm:Ot["a"],VRow:B["a"],VSpacer:I["a"],VTextField:H["a"],VToolbar:S["a"],VToolbarTitle:Y["a"]}),_.a.defaults.withCredentials=!0,r["a"].use(p["a"]);var Et=[{path:"/",name:"Home",component:K},{path:"/Monitor",name:"Monitor",component:xt},{path:"/registrate",name:"Registrate",component:St},{path:"/login",name:"Login",component:jt}],Ft=new p["a"]({routes:Et});Ft.beforeEach((function(t,e,a){var r=["/login","/registrate"],s=!r.includes(t.path),o=localStorage.getItem("user");return s&&!o?a("/login"):!s&&o?a(""):void a()}));var Dt=Ft,Mt=a("f309");r["a"].use(Mt["a"]);var Pt=new Mt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:Dt,vuetify:Pt,render:function(t){return t(v)}}).$mount("#app")},"8a23":function(t,e,a){}});
//# sourceMappingURL=app.6c4f1053.js.map